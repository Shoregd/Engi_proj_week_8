<!DOCTYPE html>
<html lang=“en”>
<!-- <style>
 #textContainer {
    /* make element inline flex-container */
    /* this will make its children flex-items */
    display: inline-block;
    /* align-items items in column */
    flex-direction: column;
    /* center items horizontally */
    align-items: center;
    /* center items vertically */
    justify-content: space-between;
    position: inherit;
    border: solid 3px darkgray;
    width: 350px;
    height: 192px;
    box-sizing: border-box;
    margin-top: 1%;
    margin-left: 1%;
    margin-right: 1%;
    margin-bottom: 2%;
    
  }
  .flex-box3 {
    display:inline-block;
    justify-content:space-between;
    position: relative;
    width: 80%;
    height: 260px;
    margin-left: 3%;
    margin-right: 3%;
    overflow-y: auto;
    overflow-x: hidden;
    align-items: center;
    flex-direction: row;
    outline: none;}
  
    .button3 {
      border: 2px solid rgb(0,0,0);
      color: rgb(0, 0, 0);
      padding: 2px 2px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
    }
    
    .flex-box {

  display:flex;
  justify-content:space-between;
  outline: none;
}


      display:flex;
      justify-content: center;
      width: 100%;
      margin-left: 72%;
      flex-direction: row;
      flex-basis: auto;
  
  outline: none;}

.flex-box2 {
  display:flex;
  justify-content:space-between;
  width: 700px;
  align-items: center;

  
  outline: none;}
  </style> -->
  <head>
    <link rel="stylesheet" href="/static/style.css">
    <title>Spaces</title>
    
  </head>
  <body>
    {% if signedin %}
    <span class="flex-box2"><a href="/newspace">List new space</a>|<a href='/dashboard'>Dashboard</a>
      
    </span>
    <br>
    <span class="flex-box">
      <p class="t-current_user">Signed in as {{ username }}</p> &nbsp;&nbsp;
      <p><button class="button" onclick="location.href='/sign_out';">Sign out</button></p>
    </span>

    <h5 class="t-current_user">Signed in as {{ username }}</h5>
    <p><button class="button button3" onclick="location.href='/sign_out';">Sign out</button></p>


    {% else %}
      <p align="right">
        <button class="button button1" onclick="location.href='/log_in';">Sign in!</button>
        <button class="button button2" onclick="location.href='/index';">Sign up!</button>
      </p>
    {% endif %}
    <h1 align="center">Space Listings</h1>
    <div class="flex-box3">
      {% for space in spaces %}
        
            <ui id="textContainer">
            <h3>{{space.title}}<br align="right">£{{space.price}}</h3>
            <p>{{space.space_description}} <br><br>
            Available from: {{space.daterange}}</p>
            
            <button onclick="location.href='/requestspace/{{ space.id | urlencode }}';">Request {{space.title}}</button>
           
            </ui>
            
        
    
            
            {% else %}
            <div id="textContainer">
              <h2>No Listings Available</h2>
            </div>
            
            {% endfor %}
          </div>
          <p><br><br></p>
    {% if signedin %}
    <h1 align="center">Your listings</h1>
    <div class="flex-box3">
          {% for space in user_spaces %}
            <ui id="textContainer">
            <h3>{{space.title}}<br align="right">£{{space.price}}</h3>
            <p>{{space.space_description}} <br><br>
            Available from: {{space.daterange}}</p>
            
          
          </ui>
            
          {%endfor%}
    </div>
    {%endif%}
  </body>
</html>